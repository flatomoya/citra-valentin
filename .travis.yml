if: tag IS blank

language: cpp
matrix:
  include:
    # - os: linux
    #   env: NAME="linux build"
    #   sudo: required
    #   dist: trusty
    #   services: docker
    #   addons:
    #     apt:
    #       packages:
    #         - p7zip-full
    #   install: "./.travis/linux/deps.sh"
    #   script: "./.travis/linux/build.sh"
    #   after_success: "./.travis/linux/upload.sh"
    #   cache: ccache
    # - os: linux
    #   env: NAME="linux build (debug, frozen versions of dependencies, no additional CMake flags)"
    #   sudo: required
    #   dist: trusty
    #   services: docker
    #   cache: ccache
    #   script: "./.travis/linux-frozen/build.sh"
    - os: windows
      env: NAME="Windows build"
      install: "./.travis/windows/install.ps1"
      script: "./.travis/windows/build.ps1"
      after_success: "./.travis/windows/after-success.ps1"

deploy:
  provider: releases
  api_key:
    secure: $DEPLOY_KEY
  on:
    repo: vvanelslande/citra
    branch: master
  file_glob: true
  file: "artifacts/*"
  skip_cleanup: true
